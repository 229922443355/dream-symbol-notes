# Dream Symbol Notes / 夢シンボルノート

PC（Windows）で動作する、スタンドアロンの夢整理・解釈アプリです。  
夢の本文を Markdown で記録し、注釈（メモ）とシンボル辞書を組み合わせて整理できます。

## できること
- 夢本文を Markdown で編集・プレビュー
- 選択範囲／夢全体に注釈を追加（連想・解釈カード）
- シンボル辞書（複数フォルダの .md）を検索・プレビュー
- 注釈にシンボルを紐付け、統計や絞り込みに活用
- 夢の訳文を複数作成・プレビュー
- 夢ノートの横断検索
- HTML でエクスポート（閲覧／印刷向け）

## クイックスタート
1. アプリを起動します。
2. 初回は `設定 > 人物フォルダのルート` で保存先ルートを指定します。
3. 右上の `＋` から人物フォルダを追加（共通のみで運用してもOK）。
4. `新規` で夢ノートを作成し、本文を入力します。
5. 右ペインでシンボル辞書を設定し、検索・紐付けを行います。

## 画面構成
- 上部ヘッダー: 人物の切り替え、訳文作成、編集中ファイルの表示
- 左ペイン: タイトル／日付／本文（Markdown）＋プレビュー
- 右ペイン: シンボル検索＋注釈管理
- カレンダー: 日付からノートを開く／作成

## 夢ノートの作成と保存
- `新規` で当日分のノートを作成し、ファイル名は `YYYY-MM-DD.json` になります。
- 同日分が複数ある場合は `YYYY-MM-DD_1.json` のように連番が付きます。
- 保存先は「人物フォルダ」に紐づきます。
- 未保存の変更がある場合は、自動で保存確認が表示されます。
- 自動保存（1分ごと）が有効です。復元対象があれば起動時に確認します。

## 注釈（メモ）の使い方
- 本文の選択範囲を `選択範囲に注釈追加` でメモ化。
- `夢全体にメモ追加` で全体注釈を作成。
- 注釈は「カード」単位で管理（連想／解釈を切り替え可能）。
- 右ペインの「関連シンボル」で注釈とシンボルを紐付け。
- `このシンボルで絞り込み` で注釈一覧をフィルタ可能。

## シンボル辞書の設定と検索
- `設定 > シンボル辞書フォルダ` で .md の入ったフォルダを追加します。
- 追加後に索引が作成され、右ペインでキーワード検索できます。
- 見出し（#）がタイトルとして表示されます。
- Obsidian 形式の `[[リンク]]` や `![[画像]]` も読み取り可能です。

## 夢の訳文
- `夢の訳文を作成する` から専用ダイアログを開きます。
- 1つの夢ノートに複数の訳文を追加できます（タブで管理）。
- 本文・注釈を参照しながら Markdown で編集できます。

## 夢ノート検索
- `ツール > 夢ノートを検索` で全ノートを横断検索します。
- スペース区切りで AND 検索（本文・訳文・注釈を対象）。

## シンボル統計
- `ツール > シンボル統計` で、紐付けたシンボルの頻度を確認できます。
- 部分一致フィルタで絞り込み可能です。

## エクスポート
- `ファイル > エクスポート` : 1ファイル HTML（本文・注釈・訳文をまとめて閲覧）
- `ファイル > 印刷用HTMLエクスポート` : A4 印刷向けレイアウト

## 設定項目
- 人物フォルダのルート: 人物ごとの保存先をまとめるフォルダ
- シンボル辞書フォルダ: Markdown 辞書の置き場所
- 表示設定: 本文／シンボル／注釈のフォントサイズ・行間

## データ保存先（目安）
- 夢ノート: 人物フォルダ配下（`YYYY-MM-DD.json`）
- 既定の保存先: `dream_notes/`（アプリと同じ場所）
- 設定ファイル: `~/.dream_symbol_notes_config.json`
- 自動保存: `~/.dream_symbol_notes_autosave/`
- シンボル索引キャッシュ: `~/.dream_symbol_notes_symbol_cache.json`

人物の削除は「一覧から削除」だけで、フォルダ自体は残ります。

## ショートカット一覧
- `Ctrl+N` 新規作成
- `Ctrl+O` 開く
- `Ctrl+S` 保存
- `Ctrl+Shift+T` 訳文作成
- `Ctrl+Shift+E` HTMLエクスポート
- `Ctrl+Shift+P` 印刷用HTMLエクスポート
- `Ctrl+M` 選択範囲に注釈追加
- `Ctrl+Alt+M` 夢全体にメモ追加
- `Ctrl+Alt+S` 注釈にシンボル追加
- `Ctrl+Shift+F` 夢ノート検索
- `Ctrl+Alt+R` シンボル辞書フォルダ
- `Ctrl+,` 表示設定
- `Ctrl+F` シンボル検索へフォーカス
- `Ctrl+/` Markdownプレビュー切替
- `F11` シンボルプレビュー全画面切替
- `Ctrl+L` カレンダー表示切替

## スクリーンショット
<img width="1278" height="955" alt="image" src="https://github.com/user-attachments/assets/3c676c70-b01a-4165-8580-b16c9e85ae7a" />

